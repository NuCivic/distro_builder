/**
 * @file
 * Navigation Styling
 */

@import "base";


/*
 * Markup generated by theme_menu_tree().
 */

ul li.expanded {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-expanded.png);
  }
  list-style-image: inline-image("menu-expanded.png");
  list-style-type: circle;
}
ul li.collapsed {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-collapsed.png); /* LTR */
  }
  list-style-image: inline-image("menu-collapsed.png"); /* LTR */
  list-style-type: disc;
}
ul li.leaf {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: none;
  }
  list-style-image: none;
  list-style-type: none;
}

/*
 * The active item in a Drupal menu
 */

li a.active {
  color: #000;
}

/*
 * Navigation bar
 */

.wrapper.navigation {
  background:$doe-blue;
  //@include background-image(linear-gradient($doe-blue, lighten($doe-blue,50%) 15%, darken($doe-blue,10%) 85%));
  height: 40px;
  h2 {
    display: none;
  }
  @include breakpoint ($breakpoint-medium-width) {
    height: auto;
  }
}

#navigation {
  /* overflow: hidden; */ /* Sometimes you want to prevent overlapping with main div. */

  .block {
    margin-bottom: 0;
  }

  .block-menu .block-title,
  .block-menu-block .block-title {
    @include element-invisible();
  }

  ul.links, /* Main menu and secondary menu links */
  ul.menu { /* Menu block links */
    margin: 0;
    outline: 0;
    padding: 0;
    text-align: left; /* LTR */

    li { /* A simple method to get navigation links to appear in one line. */
      float: left; /* LTR */
      padding: 0; /* LTR */
      list-style-type: none;
      list-style-image: none;
    }
  }
  @include breakpoint ($breakpoint-medium-width) {
    text-align: center;
    #scholar-user-menu {
      margin:5px 0; 
      ul {
        text-align: center;
        li {
          float:none;
        }
      }
    }
  }
}

#navigation ul.menu ul {
  @include box-shadow(rgba(0,0,0,0.2) 0 3px 5px);
  @include border-radius(0 0 8px 8px);
  position: absolute;
  opacity: 0;
  -webkit-transition:all 0.5s ease;
  -moz-transition:all 0.6s ease;
  overflow: hidden;
  visibility: hidden;
}
#navigation ul.menu li {
  &:hover > ul {
    visibility: visible;
    opacity: 1;
    height: auto;
  }
}

#navigation ul.menu {
  li {
    text-transform: none;
    @include clear-space;
    a {
      color:#fff;
      display: block;
      font-family: $header-font;
      font-size: 1.15em;
      padding: 9px 25px 7px 25px;
      &:hover {
        @include box-shadow(rgba(0,0,0,0.2) 0 0 10px inset);
        color: #fff;
        background: $doe-navy;
        text-decoration: none;
      }
      &.is-active-trail,
      &.active {
        background: darken($doe-blue,10%);
        outline:none;
      }
      &.active, 
      &:visited,
      li.leaf a.active {
        text-decoration: none;
        @include box-shadow(none);
        box-shadow: none !important;
      }
      &:focus,
      li.leaf a:focus {
        border:1px dotted;
        @include box-shadow(none);
        box-shadow:none !important;
      }
    }
  }
  li.expanded a {
    padding:9px 35px 7px 25px;
    position:relative;
    // background-image: url(../images/arrow.png);
    // background-repeat:no-repeat;
    // background-position:85% 50%;
    &:before {
      content: "\f078";
      font-family: $fa-font;
      font-size:.5em;
      position: absolute;
      top:10px;
      right:12px;
    }
  }
  li.leaf a:before {
    content:"";
    display: none;
  }
  ul {
    z-index: 100;
    &:hover {
      display: block;
      outline-style: none;
      outline: 0;
    }
    li {
      float:none;
      border-top:1px solid lighten($doe-blue,10%);
      a:link, a:visited {
        background: $doe-blue;
        color: #fff;
      }
      a:hover {
        background: $doe-navy;
        text-decoration: none;
        outline-style: none;
        outline: 0;
      }
      a.is_active_trail,
      a.active {
        background: darken($doe-blue,10%);
      }
    }
  }
}
ul.primary {
  padding: 0;
  border-bottom: 1px solid $border;
  @include breakpoint ($breakpoint-small-width) {
    border-bottom: none;
  }
  li {
    border: none;
    margin:0 5px 0 0;
    text-shadow: 0;
    a:link, a:visited, a:hover {
     text-shadow: 0;
     @include sassy-button("matte", 0, 100%, #EFF2F1, #e6e7e7, #555, "inset");
     border-color: $border;
    }
    a {
      color: #333 !important;
       &.active {
        color: $doe-blue !important;
      }
    }
  }
}
@include breakpoint ($breakpoint-small-width) {
  ul.primary li, ul.secondary li {
    float: none;
    clear: both;
    margin: 0;
    a {
      width: 88%;
    }
  }
}

#main-menu {
}

#secondary-menu {
  float: right; /* LTR */
}

#scholar-user-menu {
  float: right;
  margin: 5px 5px 0 0;
  @include breakpoint ($breakpoint-medium-width) {
    float: none;
    text-align: center;
    margin: 8px 0 0 0;
  }
  ul {
    margin: 0;
    padding: 0;
    li {
      display: inline;
      list-style-type: none;
      margin: 0 0 0 10px;
      a {
        @include sassy-button("matte", 5px, 90%, darken($doe-blue,5%), darken($doe-blue,15%), #fff, "inset");
        padding:2px 10px;
        -moz-box-shadow: none;
        -webkit-box-shadow: none;
        box-shadow: none;
      }
    }
  }
}